<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>定时任务</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8" />
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
		<link rel="stylesheet" href="../css/font.css">
		<link rel="stylesheet" href="../css/xadmin.css">
		<link rel="stylesheet" href="../lib/layui/css/layui.css" media="all">
		<script src="../lib/js/jquery.min.js"></script>
		<script type="text/javascript" src="../lib/layui/layui.js" charset="utf-8"></script>
		<script type="text/javascript" src="../js/xadmin.js"></script>
		<script type="text/javascript" src="../js/Configuration.js"></script>
		<script type="text/javascript" src="../js/System/Timing-task.js"></script>
		<script type="text/javascript" src="../js/util.js"></script>
	</head>
	<style>
		.widths {
			width: 300px;
		}
		
		#taskAdd {
			display: none;
			margin-top: 10px;
		}
		
		#taskSee {
			display: none;
			margin-top: 10px;
		}
	</style>

	<body>
		<div class="x-nav">
			<a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" href="javascript:location.replace(location.href);" title="刷新">
				<i class="layui-icon" style="line-height:30px">&#xe669;</i></a>
		</div>
		<div class="x-body">
			<table id="demo" lay-filter="demo"></table>
		</div>
		<script type="text/html" id="task_del">
			<span class="layui-btn layui-btn-sm layui-btn-danger" id="taskDel">删除</span>
		</script>
		<script type="text/html" id="task_suspend">
			<span class="layui-btn layui-btn-sm " id="taskSuspend">暂停</span>
		</script>
		<script type="text/html" id="task_start">
			<span class="layui-btn layui-btn-sm " onclick="taskSee()">开始</span>
		</script>
		<script type="text/html" id="task_end">
			<span class="layui-btn layui-btn-sm " onclick="Update()">结束</span>
		</script>
		<script type="text/html" id="task_add">
			<span class="layui-btn layui-btn-sm " onclick="taskAdd()">添加</span>
		</script>
		<script type="text/html" id="task_recovery">
			<span class="layui-btn layui-btn-sm " id="taskRecovery">恢复</span>
		</script>
		<script type="text/html" id="task_see">
			<span class="layui-btn layui-btn-sm " onclick="taskSee()">查看执行周期</span>
		</script>
		<script>
			function taskAdd() {
				index = layer.open({
					type: 1,
					area: ['500px', '350px'],
					anim: 2,
					title: '添加',
					maxmin: true,
					shadeClose: true,
					content: $('#taskAdd')
				});
			}

			function taskSee() {
				index = layer.open({
					type: 1,
					area: ['835px', '450px'],
					anim: 2,
					title: '查看执行周期',
					maxmin: true,
					shadeClose: true,
					content: $('#taskSee')
				});
			}
		</script>
	</body>
	<div id="taskSee" class="layui-fluid">
		<div id="toolfk-widget" data-url="generate-crontab" style="height: 350px;"></div>
		<!--<script type="text/javascript" src="//www.toolfk.com/widget.js" async="async"></script>-->
	</div>
	<div id="taskAdd" class="layui-fluid">
		<form class="layui-form" autocomplete="off" lay-filter="test">
			<div class="layui-form-item">
				<label class="layui-form-label">添加包名:</label>
				<div class="layui-input-block widths">
					<input type="text" name="jobName" class="layui-input " lay-verify="required">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">cron表达式:</label>
				<div class="layui-input-block widths">
					<!--<div id="toolfk-widget" data-url="generate-crontab"></div><script type="text/javascript" src="//www.toolfk.com/widget.js" async="async"></script>-->
					<input type="text" name="cron" class="layui-input " lay-verify="required">
				</div>
			</div>
			<div class="layui-form-item">
				<div class="layui-input-block">
					<div class="layui-btn" lay-submit lay-filter="add_task">立即提交</div>
				</div>
			</div>
		</form>
	</div>

</html>